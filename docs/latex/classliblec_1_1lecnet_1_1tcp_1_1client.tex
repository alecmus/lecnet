\hypertarget{classliblec_1_1lecnet_1_1tcp_1_1client}{}\doxysection{liblec\+::lecnet\+::tcp\+::client Class Reference}
\label{classliblec_1_1lecnet_1_1tcp_1_1client}\index{liblec::lecnet::tcp::client@{liblec::lecnet::tcp::client}}


TCP client.  




{\ttfamily \#include $<$tcp.\+h$>$}

\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structliblec_1_1lecnet_1_1tcp_1_1client_1_1client__params}{client\+\_\+params}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_aa3b873f3beaf09f0f4644e5a8a327595}{connect}} (const \mbox{\hyperlink{structliblec_1_1lecnet_1_1tcp_1_1client_1_1client__params}{client\+\_\+params}} \&params, std\+::string \&error)
\begin{DoxyCompactList}\small\item\em Connect to a TCP server. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_aa8eab73965c798930da04329097719e6}{connecting}} ()
\begin{DoxyCompactList}\small\item\em Check if the client is currently trying to connect to a server. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_ade06041f0c07108aa5fae8f76693948d}{connected}} (std\+::string \&error)
\begin{DoxyCompactList}\small\item\em Check if the client is connected to a server. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_a3713b6e0fd2a49a37071e87fb9d02e64}{running}} ()
\begin{DoxyCompactList}\small\item\em Check if the client thread is running. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_a603288e251fdb18eb28f22ad91a12e84}{send\+\_\+data}} (const std\+::string \&data, std\+::string \&received, const long \&timeout\+\_\+seconds, std\+::function$<$ bool()$>$ busy\+\_\+function, std\+::string \&error)
\begin{DoxyCompactList}\small\item\em Send data to the server (synchronously). \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_aeac75b22e169eafe881ad8ecaa7db21d}{send\+\_\+data\+\_\+async}} (const std\+::string \&data, const long \&timeout\+\_\+seconds, unsigned long \&data\+\_\+id, std\+::string \&error)
\begin{DoxyCompactList}\small\item\em Send data to the server (asyncronously). \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_a97c7433b1adf7375a96cecc7e1cfebb5}{sending}} (const unsigned long \&data\+\_\+id)
\begin{DoxyCompactList}\small\item\em Check if the data is still being sent. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_a52fe1ac3112404c25fbd5e7abb414903}{get\+\_\+response}} (const unsigned long \&data\+\_\+id, std\+::string \&received, std\+::string \&error)
\begin{DoxyCompactList}\small\item\em Get the server response. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classliblec_1_1lecnet_1_1tcp_1_1client_a1ddac5a61167c8814acb12a2b806e9e1}\label{classliblec_1_1lecnet_1_1tcp_1_1client_a1ddac5a61167c8814acb12a2b806e9e1}} 
void {\bfseries disconnect} ()
\begin{DoxyCompactList}\small\item\em Disconnect from server. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_aec4d7eef51df5ecdc83fb105b6151e63}{traffic}} (\mbox{\hyperlink{structliblec_1_1lecnet_1_1network__traffic}{liblec\+::lecnet\+::network\+\_\+traffic}} \&traffic)
\begin{DoxyCompactList}\small\item\em Get the total network traffic for this client. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
TCP client. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classliblec_1_1lecnet_1_1tcp_1_1client_aa3b873f3beaf09f0f4644e5a8a327595}\label{classliblec_1_1lecnet_1_1tcp_1_1client_aa3b873f3beaf09f0f4644e5a8a327595}} 
\index{liblec::lecnet::tcp::client@{liblec::lecnet::tcp::client}!connect@{connect}}
\index{connect@{connect}!liblec::lecnet::tcp::client@{liblec::lecnet::tcp::client}}
\doxysubsubsection{\texorpdfstring{connect()}{connect()}}
{\footnotesize\ttfamily bool liblec\+::lecnet\+::tcp\+::client\+::connect (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structliblec_1_1lecnet_1_1tcp_1_1client_1_1client__params}{client\+\_\+params}} \&}]{params,  }\item[{std\+::string \&}]{error }\end{DoxyParamCaption})}



Connect to a TCP server. 


\begin{DoxyParams}{Parameters}
{\em params} & Server parameters, as defined in the \mbox{\hyperlink{structliblec_1_1lecnet_1_1tcp_1_1client_1_1client__params}{client\+\_\+params}} struct. \\
\hline
\end{DoxyParams}



\begin{DoxyParams}{Parameters}
{\em error} & Error information. \\
\hline
\end{DoxyParams}


\begin{DoxyReturn}{Returns}
Returns true if the client thread was created successfully, else false. 
\end{DoxyReturn}


Note that this function returns almost immediately. The actual connection attempt is made on the client thread. To establish the result of the connection attempt wait for \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_aa8eab73965c798930da04329097719e6}{connecting}} to return false and then check the status of \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_ade06041f0c07108aa5fae8f76693948d}{connected}}. Any error encountered in the connection attempt will be written to the error parameter of \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_ade06041f0c07108aa5fae8f76693948d}{connected}}. \mbox{\Hypertarget{classliblec_1_1lecnet_1_1tcp_1_1client_ade06041f0c07108aa5fae8f76693948d}\label{classliblec_1_1lecnet_1_1tcp_1_1client_ade06041f0c07108aa5fae8f76693948d}} 
\index{liblec::lecnet::tcp::client@{liblec::lecnet::tcp::client}!connected@{connected}}
\index{connected@{connected}!liblec::lecnet::tcp::client@{liblec::lecnet::tcp::client}}
\doxysubsubsection{\texorpdfstring{connected()}{connected()}}
{\footnotesize\ttfamily bool liblec\+::lecnet\+::tcp\+::client\+::connected (\begin{DoxyParamCaption}\item[{std\+::string \&}]{error }\end{DoxyParamCaption})}



Check if the client is connected to a server. 


\begin{DoxyParams}{Parameters}
{\em error} & Error information. Note\+: do not assume this contains any error information just because the client is not connected, e.\+g. when this function is called immediately after \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_aa3b873f3beaf09f0f4644e5a8a327595}{connect}} but before the actual connection is established (in this case false will be returned but error will be empty). If this function is called immediately after false is returned from \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_aa8eab73965c798930da04329097719e6}{connecting}} and it returns false as well, then error is guaranteed to have some information about why the connection attempt failed. Error information is erased from memory immediately after a call to this function. \\
\hline
\end{DoxyParams}


\begin{DoxyReturn}{Returns}
Returns true if client is connected to a server, else false. 
\end{DoxyReturn}


It only makes sense to call this function after a successful call to \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_aa3b873f3beaf09f0f4644e5a8a327595}{connect}} and waiting until false is returned from \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_aa8eab73965c798930da04329097719e6}{connecting}}. \mbox{\Hypertarget{classliblec_1_1lecnet_1_1tcp_1_1client_aa8eab73965c798930da04329097719e6}\label{classliblec_1_1lecnet_1_1tcp_1_1client_aa8eab73965c798930da04329097719e6}} 
\index{liblec::lecnet::tcp::client@{liblec::lecnet::tcp::client}!connecting@{connecting}}
\index{connecting@{connecting}!liblec::lecnet::tcp::client@{liblec::lecnet::tcp::client}}
\doxysubsubsection{\texorpdfstring{connecting()}{connecting()}}
{\footnotesize\ttfamily bool liblec\+::lecnet\+::tcp\+::client\+::connecting (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Check if the client is currently trying to connect to a server. 

\begin{DoxyReturn}{Returns}
Returns true if the client is in the process of trying to connect to a server, else false. 
\end{DoxyReturn}


After true is returned by \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_aa3b873f3beaf09f0f4644e5a8a327595}{connect}}, wait until false is returned by this function, then call \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_ade06041f0c07108aa5fae8f76693948d}{connected}} to establish if the connection was successful. \mbox{\Hypertarget{classliblec_1_1lecnet_1_1tcp_1_1client_a52fe1ac3112404c25fbd5e7abb414903}\label{classliblec_1_1lecnet_1_1tcp_1_1client_a52fe1ac3112404c25fbd5e7abb414903}} 
\index{liblec::lecnet::tcp::client@{liblec::lecnet::tcp::client}!get\_response@{get\_response}}
\index{get\_response@{get\_response}!liblec::lecnet::tcp::client@{liblec::lecnet::tcp::client}}
\doxysubsubsection{\texorpdfstring{get\_response()}{get\_response()}}
{\footnotesize\ttfamily bool liblec\+::lecnet\+::tcp\+::client\+::get\+\_\+response (\begin{DoxyParamCaption}\item[{const unsigned long \&}]{data\+\_\+id,  }\item[{std\+::string \&}]{received,  }\item[{std\+::string \&}]{error }\end{DoxyParamCaption})}



Get the server response. 


\begin{DoxyParams}{Parameters}
{\em data\+\_\+id} & The unique ID associated with the data that was sent. \\
\hline
\end{DoxyParams}



\begin{DoxyParams}{Parameters}
{\em received} & The data received from the server. \\
\hline
\end{DoxyParams}



\begin{DoxyParams}{Parameters}
{\em error} & Error information. \\
\hline
\end{DoxyParams}


\begin{DoxyReturn}{Returns}
Returns true if successful, else false. 
\end{DoxyReturn}


A call to \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_aeac75b22e169eafe881ad8ecaa7db21d}{send\+\_\+data\+\_\+async}}, and then checking for the status of \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_a97c7433b1adf7375a96cecc7e1cfebb5}{sending}} is important for this call to make sense. After a successful call to \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_aeac75b22e169eafe881ad8ecaa7db21d}{send\+\_\+data\+\_\+async}}, wait until \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_a97c7433b1adf7375a96cecc7e1cfebb5}{sending}} returns false, then call this function. After the response is retrieved using this function it is immediately deleted from memory. A new call to \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_aeac75b22e169eafe881ad8ecaa7db21d}{send\+\_\+data\+\_\+async}} can then be used before checking for another response. \mbox{\Hypertarget{classliblec_1_1lecnet_1_1tcp_1_1client_a3713b6e0fd2a49a37071e87fb9d02e64}\label{classliblec_1_1lecnet_1_1tcp_1_1client_a3713b6e0fd2a49a37071e87fb9d02e64}} 
\index{liblec::lecnet::tcp::client@{liblec::lecnet::tcp::client}!running@{running}}
\index{running@{running}!liblec::lecnet::tcp::client@{liblec::lecnet::tcp::client}}
\doxysubsubsection{\texorpdfstring{running()}{running()}}
{\footnotesize\ttfamily bool liblec\+::lecnet\+::tcp\+::client\+::running (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Check if the client thread is running. 

\begin{DoxyReturn}{Returns}
Returns true if the client thread is running, else false. 
\end{DoxyReturn}


This function is useful to check if the client is still connected to the server after true is returned from \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_ade06041f0c07108aa5fae8f76693948d}{connected}}. Once false is returned you can be sure the connection has been lost and a call to \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_aa3b873f3beaf09f0f4644e5a8a327595}{connect}} is required to reestablish the connection. \mbox{\Hypertarget{classliblec_1_1lecnet_1_1tcp_1_1client_a603288e251fdb18eb28f22ad91a12e84}\label{classliblec_1_1lecnet_1_1tcp_1_1client_a603288e251fdb18eb28f22ad91a12e84}} 
\index{liblec::lecnet::tcp::client@{liblec::lecnet::tcp::client}!send\_data@{send\_data}}
\index{send\_data@{send\_data}!liblec::lecnet::tcp::client@{liblec::lecnet::tcp::client}}
\doxysubsubsection{\texorpdfstring{send\_data()}{send\_data()}}
{\footnotesize\ttfamily bool liblec\+::lecnet\+::tcp\+::client\+::send\+\_\+data (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{data,  }\item[{std\+::string \&}]{received,  }\item[{const long \&}]{timeout\+\_\+seconds,  }\item[{std\+::function$<$ bool()$>$}]{busy\+\_\+function,  }\item[{std\+::string \&}]{error }\end{DoxyParamCaption})}



Send data to the server (synchronously). 


\begin{DoxyParams}{Parameters}
{\em data} & The data to be sent. \\
\hline
\end{DoxyParams}



\begin{DoxyParams}{Parameters}
{\em received} & The feedback data received from the server. \\
\hline
\end{DoxyParams}



\begin{DoxyParams}{Parameters}
{\em timeout\+\_\+seconds} & The timeout of the send/receive operation, in seconds. \\
\hline
\end{DoxyParams}



\begin{DoxyParams}{Parameters}
{\em busy\+\_\+function} & The function to call repeatedly during the send/receive operation (which can possibly timeout depending on the server availability, load and configuration). \\
\hline
\end{DoxyParams}



\begin{DoxyParams}{Parameters}
{\em error} & Error information. \\
\hline
\end{DoxyParams}


\begin{DoxyReturn}{Returns}
Returns true if the operation is successful, else false. 
\end{DoxyReturn}


This is a blocking operation. \mbox{\Hypertarget{classliblec_1_1lecnet_1_1tcp_1_1client_aeac75b22e169eafe881ad8ecaa7db21d}\label{classliblec_1_1lecnet_1_1tcp_1_1client_aeac75b22e169eafe881ad8ecaa7db21d}} 
\index{liblec::lecnet::tcp::client@{liblec::lecnet::tcp::client}!send\_data\_async@{send\_data\_async}}
\index{send\_data\_async@{send\_data\_async}!liblec::lecnet::tcp::client@{liblec::lecnet::tcp::client}}
\doxysubsubsection{\texorpdfstring{send\_data\_async()}{send\_data\_async()}}
{\footnotesize\ttfamily bool liblec\+::lecnet\+::tcp\+::client\+::send\+\_\+data\+\_\+async (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{data,  }\item[{const long \&}]{timeout\+\_\+seconds,  }\item[{unsigned long \&}]{data\+\_\+id,  }\item[{std\+::string \&}]{error }\end{DoxyParamCaption})}



Send data to the server (asyncronously). 


\begin{DoxyParams}{Parameters}
{\em data} & The data to be sent. \\
\hline
\end{DoxyParams}



\begin{DoxyParams}{Parameters}
{\em timeout\+\_\+seconds} & The timeout of the send/receive operation, in seconds. \\
\hline
\end{DoxyParams}



\begin{DoxyParams}{Parameters}
{\em data\+\_\+id} & The unique ID of the data being sent. This will be required in the subsequent calls to \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_a97c7433b1adf7375a96cecc7e1cfebb5}{sending}} and \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_a52fe1ac3112404c25fbd5e7abb414903}{get\+\_\+response}}. \\
\hline
\end{DoxyParams}



\begin{DoxyParams}{Parameters}
{\em error} & Error information. \\
\hline
\end{DoxyParams}


\begin{DoxyReturn}{Returns}
Returns true if the operation is successful, else false. 
\end{DoxyReturn}


This is a non-\/blocking operation and the function returns almost immediately. The actual sending will be executed asynchronously and the progress can be known through \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_a97c7433b1adf7375a96cecc7e1cfebb5}{sending}}. Note, however, that this process is somewhat slower than using \mbox{\hyperlink{classliblec_1_1lecnet_1_1tcp_1_1client_a603288e251fdb18eb28f22ad91a12e84}{send\+\_\+data}}. \mbox{\Hypertarget{classliblec_1_1lecnet_1_1tcp_1_1client_a97c7433b1adf7375a96cecc7e1cfebb5}\label{classliblec_1_1lecnet_1_1tcp_1_1client_a97c7433b1adf7375a96cecc7e1cfebb5}} 
\index{liblec::lecnet::tcp::client@{liblec::lecnet::tcp::client}!sending@{sending}}
\index{sending@{sending}!liblec::lecnet::tcp::client@{liblec::lecnet::tcp::client}}
\doxysubsubsection{\texorpdfstring{sending()}{sending()}}
{\footnotesize\ttfamily bool liblec\+::lecnet\+::tcp\+::client\+::sending (\begin{DoxyParamCaption}\item[{const unsigned long \&}]{data\+\_\+id }\end{DoxyParamCaption})}



Check if the data is still being sent. 


\begin{DoxyParams}{Parameters}
{\em data\+\_\+id} & The unique ID associated with the data. \\
\hline
\end{DoxyParams}


\begin{DoxyReturn}{Returns}
Returns true if the data is still being sent, else false. 
\end{DoxyReturn}
\mbox{\Hypertarget{classliblec_1_1lecnet_1_1tcp_1_1client_aec4d7eef51df5ecdc83fb105b6151e63}\label{classliblec_1_1lecnet_1_1tcp_1_1client_aec4d7eef51df5ecdc83fb105b6151e63}} 
\index{liblec::lecnet::tcp::client@{liblec::lecnet::tcp::client}!traffic@{traffic}}
\index{traffic@{traffic}!liblec::lecnet::tcp::client@{liblec::lecnet::tcp::client}}
\doxysubsubsection{\texorpdfstring{traffic()}{traffic()}}
{\footnotesize\ttfamily void liblec\+::lecnet\+::tcp\+::client\+::traffic (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structliblec_1_1lecnet_1_1network__traffic}{liblec\+::lecnet\+::network\+\_\+traffic}} \&}]{traffic }\end{DoxyParamCaption})}



Get the total network traffic for this client. 


\begin{DoxyParams}{Parameters}
{\em traffic} & The total network traffic. \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
tcp.\+h\end{DoxyCompactItemize}
